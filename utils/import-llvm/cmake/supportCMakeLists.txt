add_subdirectory(BLAKE3)

# Disable implicit-fallthrough, if used.
append_if(CXX_SUPPORTS_IMPLICIT_FALLTHROUGH_FLAG "-Wno-implicit-fallthrough" CMAKE_CXX_FLAGS)

add_llbuild_library(llvmSupport
ABIBreak.cpp
Allocator.cpp
APFloat.cpp
APInt.cpp
APSInt.cpp
ARMTargetParser.cpp
Atomic.cpp
AutoConvert.cpp
Chrono.cpp
circular_raw_ostream.cpp
CommandLine.cpp
ConvertUTF.cpp
ConvertUTFWrapper.cpp
CrashRecoveryContext.cpp
Debug.cpp
DJB.cpp
ELFAttributes.cpp
Errno.cpp
Error.cpp
ErrorHandling.cpp
FileUtilities.cpp
FoldingSet.cpp
FormatVariadic.cpp
Hashing.cpp
Host.cpp
Locale.cpp
ManagedStatic.cpp
MathExtras.cpp
MD5.cpp
MemAlloc.cpp
Memory.cpp
MemoryBuffer.cpp
MemoryBufferRef.cpp
NativeFormatting.cpp
Optional.cpp
Path.cpp
Process.cpp
Program.cpp
raw_ostream.cpp
Signals.cpp
SmallPtrSet.cpp
SmallVector.cpp
SourceMgr.cpp
StringExtras.cpp
StringMap.cpp
StringRef.cpp
StringSaver.cpp
TargetParser.cpp
Threading.cpp
ThreadLocal.cpp
Triple.cpp
Twine.cpp
Unicode.cpp
UnicodeCaseFold.cpp
Valgrind.cpp
VersionTuple.cpp
VirtualFileSystem.cpp
WithColor.cpp
X86TargetParser.cpp
YAMLParser.cpp
$<TARGET_OBJECTS:LLVMSupportBlake3>
  )


target_link_libraries(llvmSupport PRIVATE
  LLVMDemangle
  Threads::Threads
  ${CMAKE_DL_LIBS})

